<nav class="bg-white shadow w-full">
    <div class="flex items-center justify-between  px-4 py-3">
    <!--logo-->
    <div class="text-left text-2xl font-bold text-blue-600">
        Reminder App
    </div>

    
    <!-- Hamburger button (only on mobile) -->
    <button
    type="button"
    class="md:hidden flex flex-col items-center justify-center gap-1 p-2 rounded hover:bg-gray-100"
    (click)="toggleMenu()"
    aria-label="Toggle navigation"
    >
    <span class="w-6 h-0.5 bg-gray-800"></span>
    <span class="w-6 h-0.5 bg-gray-800"></span>
    <span class="w-6 h-0.5 bg-gray-800"></span>
    </button>

    <!-- Menu -->
   <ul class="hidden md:flex items-center gap-6 text-lg">

    <!-- Only if NOT logged in -->
    <ng-container *ngIf="!isLoggedIn()">
      <li><a routerLink="/login" class="hover:text-blue-500">Login</a></li>
      <li><a routerLink="/register" class="hover:text-blue-500">Register</a></li>
    </ng-container>

    <!-- Only logged-in users -->
    <ng-container *ngIf="isLoggedIn() && !isAdmin()">
      <li><a routerLink="/profile" class="hover:text-blue-500">My Profile</a></li>
      <li><a routerLink="/events" class="hover:text-blue-500">My Events</a></li>
      <li>
        <button 
        class="hover:text-blue-500"
        (click)="openAddEventDialog()">
        Add Event
        </button>
    </li>
    <li><a routerLink="/reminders" class="hover:text-blue-500">My Reminders</a></li>
    </ng-container>

      <!-- Only admin -->
    <ng-container *ngIf="isLoggedIn() && isAdmin()">
      <li><a routerLink="/admin/events" class="text-red-500">Events</a></li>
      <li><a routerLink="/admin/stats" class="text-red-500">Stats</a></li>
    </ng-container>


    <ng-container *ngIf="isLoggedIn()">
    <li>
        <button (click)="logout()" class="text-gray-700 hover:text-red-500">
          Logout
        </button>
    </li>
    </ng-container>

  </ul>
</div>
<!-- Mobile menu -->
  <ul 
    *ngIf="isMenuOpen"
    class="mt-3 flex flex-col gap-3 px-6 pb-4  md:hidden animate-fade"
  >
    <!-- Only if NOT logged in -->
    <ng-container *ngIf="!isLoggedIn()">
      <li><a routerLink="/login" class="block py-1 hover:text-blue-500" 
        (click)="closeMenu()">Login</a></li>
      <li><a routerLink="/register" class="block py-1 hover:text-blue-500" (click)="closeMenu()">Register</a></li>
    </ng-container>

    <!-- Only logged-in users -->
    <ng-container *ngIf="isLoggedIn() && !isAdmin()">
      <li><a routerLink="/profile" class="block py-1 hover:text-blue-500" (click)="closeMenu()">My Profile</a></li>
      <li><a routerLink="/events" class="block py-1 hover:text-blue-500" 
      (click)="closeMenu()">My Events</a></li>
      <li>
        <button 
          class="block py-1 text-left hover:text-blue-500"
          (click)="openAddEventDialog(); closeMenu()">
          Add Event
        </button>
      </li>
      <li><a routerLink="/reminders" class="block py-1 hover:text-blue-500" (click)="closeMenu()">My Reminders</a></li>
    </ng-container>

    <!-- Only admin -->
    <ng-container *ngIf="isLoggedIn() && isAdmin()">
      <li><a routerLink="/admin/events" class="block py-1 text-red-500" 
        (click)="closeMenu()">Events</a></li>
      <li><a routerLink="/admin/stats" class="block py-1 text-red-500" 
        (click)="closeMenu()">Stats</a></li>
    </ng-container>

    <ng-container *ngIf="isLoggedIn()">
      <li>
        <button (click)="logout(); closeMenu()" class="block py-1 text-left text-gray-700 hover:text-red-500">
          Logout
        </button>
      </li>
    </ng-container>
  </ul>

</nav>
